import{r as d,a as O,b as P}from"./vendor-Gm9i_4Ku.js";import{R as M,a as u,B as N}from"./router-Bs10hMPl.js";import{u as H,Q as V,a as U}from"./query-BDc3fld9.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();var A={exports:{}},j={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q=d,Y=Symbol.for("react.element"),Q=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,J=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X={key:!0,ref:!0,__self:!0,__source:!0};function F(t,n,i){var o,r={},s=null,a=null;i!==void 0&&(s=""+i),n.key!==void 0&&(s=""+n.key),n.ref!==void 0&&(a=n.ref);for(o in n)K.call(n,o)&&!X.hasOwnProperty(o)&&(r[o]=n[o]);if(t&&t.defaultProps)for(o in n=t.defaultProps,n)r[o]===void 0&&(r[o]=n[o]);return{$$typeof:Y,type:t,key:s,ref:a,props:r,_owner:J.current}}j.Fragment=Q;j.jsx=F;j.jsxs=F;A.exports=j;var e=A.exports,b={},k=O;b.createRoot=k.createRoot,b.hydrateRoot=k.hydrateRoot;const G="/api/v1";class y extends Error{constructor(n,i){super(n),this.status=i,this.name="ApiError"}}async function Z(t,n){try{const i=await fetch(`${G}${t}`,{headers:{"Content-Type":"application/json",...n==null?void 0:n.headers},credentials:"include",...n});if(!i.ok)throw new y(`HTTP error! status: ${i.status}`,i.status);const o=await i.json();if(o.error)throw new y(o.error);return o}catch(i){throw i instanceof y?i:new y(`Network error: ${i instanceof Error?i.message:"Unknown error"}`)}}const ee={getDisplayData:()=>Z("/display")},w=()=>H({queryKey:["displayData"],queryFn:ee.getDisplayData,refetchInterval:(t,n)=>n.state.error?6e4:3e4,retry:(t,n)=>{var i,o,r,s;return(o=(i=n==null?void 0:n.message)==null?void 0:i.includes)!=null&&o.call(i,"NetworkError")||(s=(r=n==null?void 0:n.message)==null?void 0:r.includes)!=null&&s.call(r,"Failed to fetch")?!1:t<2},retryDelay:t=>Math.min(1e3*2**t,3e4),notifyOnChangeProps:["data","error"]}),S=()=>{const[t,n]=d.useState(navigator.onLine),[i,o]=d.useState(null),[r,s]=d.useState(null);return d.useEffect(()=>{const a=()=>{n(!0),o(new Date),s(null)},c=()=>{n(!1),s(new Date)};return window.addEventListener("online",a),window.addEventListener("offline",c),navigator.onLine?o(new Date):s(new Date),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",c)}},[]),{isOnline:t,lastConnected:i,connectionLostAt:r}},I=({weather:t})=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5vw",background:"linear-gradient(135deg, #009FFF, #0B5895)",padding:"1.5vh 2vw",borderRadius:"15px",boxShadow:"0 6px 12px rgba(0,159,255,0.2)",color:"white",height:"12vh",width:"45vw",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5vw",minWidth:"14vw"},children:[e.jsx("div",{style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"50%",padding:"1vh",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid rgba(255,255,255,0.2)"},children:e.jsx("img",{src:`http://openweathermap.org/img/wn/${t.icon}@2x.png`,alt:"Weather",style:{width:"7vh",height:"7vh",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})}),e.jsxs("div",{style:{fontSize:"6vh",fontWeight:"bold",lineHeight:1,textShadow:"0 2px 4px rgba(0,0,0,0.3)",minWidth:"8vw",textAlign:"center"},children:[t.temperature,"°"]})]}),e.jsxs("div",{style:{borderLeft:"2px solid rgba(255, 255, 255, 0.25)",paddingLeft:"1.5vw",marginLeft:"0.8vw",fontSize:"2.2vh",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.2vh 2vw",alignItems:"center",minWidth:"16vw"},children:[e.jsxs("div",{style:{whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.5vw"},children:[e.jsx("span",{style:{fontSize:"2vh",opacity:.9,minWidth:"1.8vw",textAlign:"center"},children:"🌡️"}),e.jsxs("span",{style:{fontSize:"2.1vh",fontWeight:"500"},children:["Máx: ",t.temp_max,"°C"]})]}),e.jsxs("div",{style:{whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.5vw"},children:[e.jsx("span",{style:{fontSize:"2vh",opacity:.9,minWidth:"1.8vw",textAlign:"center"},children:"🌧️"}),e.jsxs("span",{style:{fontSize:"2.1vh",fontWeight:"500"},children:["Chuva: ",t.rain_chance,"%"]})]}),e.jsxs("div",{style:{whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.5vw"},children:[e.jsx("span",{style:{fontSize:"2vh",opacity:.9,minWidth:"1.8vw",textAlign:"center"},children:"❄️"}),e.jsxs("span",{style:{fontSize:"2.1vh",fontWeight:"500"},children:["Mín: ",t.temp_min,"°C"]})]}),e.jsxs("div",{style:{whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.5vw"},children:[e.jsx("span",{style:{fontSize:"2vh",opacity:.9,minWidth:"1.8vw",textAlign:"center"},children:"💧"}),e.jsxs("span",{style:{fontSize:"2.1vh",fontWeight:"500"},children:["Umidade: ",t.humidity,"%"]})]})]}),e.jsxs("div",{style:{borderLeft:"2px solid rgba(255, 255, 255, 0.25)",paddingLeft:"2vw",marginLeft:"1vw",minWidth:"8vw",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"1.6vh",opacity:.9,textTransform:"capitalize",lineHeight:1.2,fontWeight:"400"},children:t.weather}),e.jsx("div",{style:{fontSize:"1.4vh",opacity:.7,marginTop:"0.3vh"},children:t.city})]})]}),C=({birthdays:t})=>{const n=i=>{const o=new Date(i);return`${o.getDate().toString().padStart(2,"0")}/${(o.getMonth()+1).toString().padStart(2,"0")}`};return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontSize:"2.8vh",color:"#0B5895",marginBottom:"1.5vh",paddingBottom:"0.8vh",borderBottom:"3px solid #009FFF",display:"flex",alignItems:"center",gap:"0.5rem"},children:"🎂 Próximos Aniversários"}),e.jsx("div",{style:{flex:1,overflowY:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"1vh"},children:t.length===0?e.jsx("div",{style:{textAlign:"center",color:"#666",fontSize:"2vh",padding:"2vh"},children:"Nenhum aniversário próximo"}):t.slice(0,5).map(i=>e.jsxs("div",{style:{background:i.is_today?"linear-gradient(to right, rgba(255, 215, 0, 0.1), #f0f3f5 80%)":"#f0f3f5",padding:"1.2vh",borderRadius:"10px",borderLeft:`4px solid ${i.is_today?"#FFD700":"#009FFF"}`,position:"relative",height:"calc((100% - 4vh) / 5)",display:"flex",flexDirection:"column",justifyContent:"center",animation:i.is_today?"pulse 2s ease-in-out infinite":"none"},children:[e.jsx("div",{style:{fontSize:"2.2vh",fontWeight:"bold",color:i.is_today?"#FFD700":"#0B5895",marginBottom:"0.3vh"},children:i.name}),e.jsx("div",{style:{fontSize:"1.8vh",color:"#3A3A3A"},children:i.is_today?"Hoje! 🎂":n(i.date)}),e.jsx("div",{style:{fontSize:"1.6vh",color:"#3A3A3A",fontStyle:"italic"},children:i.sector}),i.is_today&&e.jsx("div",{style:{position:"absolute",right:"1.5vh",top:"50%",transform:"translateY(-50%)",fontSize:"2.5vh",animation:"celebrate 1s ease infinite"},children:"🎉"})]},`${i.name}-${i.date}`))}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes celebrate {
            0% { transform: translateY(-50%) rotate(0deg); }
            25% { transform: translateY(-50%) rotate(15deg); }
            75% { transform: translateY(-50%) rotate(-15deg); }
            100% { transform: translateY(-50%) rotate(0deg); }
          }

          @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
          }
        `}})]})},z=({media:t,debug:n=!1})=>{const[i,o]=d.useState(0),[r,s]=d.useState(!1),a=d.useRef(null),c=d.useCallback(l=>{if(n){const h=new Date().toISOString().substr(11,8);console.log(`[${h}] ${l}`)}},[n]),g=d.useCallback(()=>{a.current&&(clearTimeout(a.current),a.current=null)},[]),p=d.useCallback(()=>{if(t.length<=1||r)return;if(c(`nextSlide called. Old currentSlide: ${i}. isTransitioning: ${r}`),r){c("Transition already in progress, ignoring nextSlide call");return}s(!0);const l=(i+1)%t.length;c(`nextSlide: New currentSlide calculated: ${l}. Total slides: ${t.length}`),o(l),setTimeout(()=>{s(!1)},1e3)},[i,t.length,r,c]);return d.useEffect(()=>{if(t.length===0)return;const l=t[i];if(l){if(g(),l.is_video)c(`Setting up video for slide ${i}`);else{const h=Math.max(l.duration-1e3,1e3);c(`Image slide ${i} timer set for ${h}ms`),a.current=setTimeout(()=>{p()},h)}return()=>{g()}}},[i,t,g,p,c]),d.useEffect(()=>()=>{g()},[g]),t.length===0?e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"white",borderRadius:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",fontSize:"2rem",color:"#666"},children:"Nenhuma mídia disponível"}):e.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",background:"#000",borderRadius:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[t.map((l,h)=>{const x=h===i,f=l.width===1920&&l.height===1080,T=()=>{c(`Video ended for slide ${h}`),x&&!r&&p()},E=()=>{c(`Video error for slide ${h}`),x&&setTimeout(()=>p(),2e3)},W=$=>{const m=$.currentTarget;if(c(`Video metadata loaded for slide ${h}. Duration: ${m.duration}`),x&&isFinite(m.duration)&&m.duration>0){const B=m.duration*1e3;a.current=setTimeout(()=>{c(`Video duration timer expired for slide ${h}`),r||p()},B+500)}};return e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:x?1:0,transition:"opacity 1s ease-in-out",display:"flex",justifyContent:"center",alignItems:"center",zIndex:x?10:1,background:"#000"},children:l.is_video?e.jsx("video",{src:l.local_path,autoPlay:x,muted:!0,playsInline:!0,preload:"auto",onEnded:T,onError:E,onLoadedMetadata:W,style:{width:f?"100%":"auto",height:f?"100%":"auto",maxWidth:"100%",maxHeight:"100%",objectFit:f?"cover":"contain",borderRadius:"20px"}}):e.jsx("img",{src:l.local_path,alt:"Display Content",style:{width:f?"100%":"auto",height:f?"100%":"auto",maxWidth:"100%",maxHeight:"100%",objectFit:f?"cover":"contain",borderRadius:"20px"}})},`${l.id}-${h}`)}),t.length>1&&e.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"8px",zIndex:20,background:"rgba(0,0,0,0.3)",padding:"8px 12px",borderRadius:"20px"},children:t.map((l,h)=>e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:h===i?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.4)",transition:"all 0.3s ease",border:"1px solid rgba(255, 255, 255, 0.2)"}},h))})]})},_=()=>{const[t,n]=d.useState(new Date);return d.useEffect(()=>{const i=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(i)},[]),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5vw",background:"#f0f3f5",padding:"1.5vh 2vw",borderRadius:"15px",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)",height:"12vh",minWidth:"24vw",maxWidth:"32vw"},children:[e.jsx("div",{style:{fontSize:"8vh",fontWeight:"900",color:"#0B5895",lineHeight:1,letterSpacing:"-2px",minWidth:"12vw",textAlign:"center",fontFamily:"monospace"},children:t.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!1})}),e.jsxs("div",{style:{borderLeft:"2px solid #C4CCD1",paddingLeft:"1.5vw",height:"8vh",display:"flex",flexDirection:"column",justifyContent:"center"},children:[e.jsx("div",{style:{fontSize:"2.8vh",color:"#3A3A3A",lineHeight:1.1,fontWeight:"500",textTransform:"capitalize"},children:t.toLocaleDateString("pt-BR",{weekday:"long"})}),e.jsx("div",{style:{fontSize:"2.4vh",color:"#666",lineHeight:1.1,marginTop:"0.3vh"},children:t.toLocaleDateString("pt-BR",{day:"numeric",month:"long"})})]})]})},D=()=>e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f8f9fa",flexDirection:"column"},children:[e.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid #e3e3e3",borderTop:"4px solid #009FFF",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"1rem"}}),e.jsx("p",{style:{color:"#666",fontSize:"1.2rem",margin:0},children:"Loading display..."}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}})]}),R=({message:t,details:n})=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",margin:0,background:"#000",color:"#fff",fontFamily:"sans-serif"},children:e.jsxs("div",{style:{textAlign:"center",padding:"2rem",maxWidth:"600px"},children:[e.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",color:"#ff6b6b"},children:"Erro de Conexão"}),e.jsx("p",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#ccc"},children:t||"Não foi possível conectar ao servidor."}),n&&e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"1rem",borderRadius:"8px",marginTop:"1rem",fontSize:"0.9rem",color:"#ffeb3b",textAlign:"left"},children:[e.jsx("strong",{children:"Detalhes:"}),e.jsx("br",{}),n]}),e.jsxs("div",{style:{marginTop:"2rem",fontSize:"0.9rem",color:"#999"},children:[e.jsx("p",{children:"Verifique se:"}),e.jsxs("ul",{style:{textAlign:"left",display:"inline-block"},children:[e.jsx("li",{children:"O servidor Flask está rodando (porta 5000)"}),e.jsx("li",{children:"A configuração do Firebase está correta"}),e.jsx("li",{children:"O dispositivo está registrado no sistema"})]})]})]})}),v=()=>{const{isOnline:t,connectionLostAt:n}=S();if(t)return null;const i=o=>o.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"20px",background:"linear-gradient(135deg, #ff6b6b, #ee5a52)",color:"white",padding:"12px 20px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(255, 107, 107, 0.4)",display:"flex",alignItems:"center",gap:"12px",fontSize:"14px",fontWeight:"500",zIndex:1e3,border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:[e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:"⚠️"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600"},children:"Conexão Perdida"}),e.jsx("div",{style:{fontSize:"12px",opacity:.9,marginTop:"2px"},children:n&&`Desde ${i(n)}`})]}),e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.8)",animation:"pulse 2s infinite"}}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
          }
        `}})]})},te=()=>{const{data:t,isLoading:n,error:i}=w(),{isOnline:o}=S();if(n)return e.jsx(D,{});if(i||!(t!=null&&t.configured)){if(!o&&!t)return e.jsxs("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"#000",color:"#fff",fontFamily:"system-ui",flexDirection:"column",gap:"20px"},children:[e.jsx("div",{style:{fontSize:"3rem"},children:"📡"}),e.jsx("div",{style:{fontSize:"1.5rem",textAlign:"center"},children:"Sem conexão com internet"}),e.jsx("div",{style:{fontSize:"1rem",opacity:.7,textAlign:"center"},children:"Aguardando reconexão para carregar o conteúdo..."}),e.jsx(v,{})]});if(o&&(i||!(t!=null&&t.configured))){const r=(t==null?void 0:t.error)||(i==null?void 0:i.message)||"Device not configured",s=i?`API Error: ${i==null?void 0:i.message}`:t==null?void 0:t.error;return e.jsx(R,{message:r,details:s})}}return e.jsxs("div",{style:{height:"100vh",background:"#f8f9fa",padding:"2vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{height:"16vh",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1.5vh 2vw",background:"white",borderRadius:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",marginBottom:"2vh",gap:"1.5vw"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",minWidth:"15vw",flex:"0 0 auto"},children:e.jsx("img",{src:"/static/display/logo.png",alt:"Company Logo",style:{height:"10vh",objectFit:"contain"}})}),e.jsx("div",{style:{flex:"1 1 auto",display:"flex",justifyContent:"center",maxWidth:"40vw"},children:e.jsx(_,{})}),e.jsx("div",{style:{flex:"0 0 auto",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(t==null?void 0:t.weather)&&e.jsx(I,{weather:t.weather})})]}),e.jsxs("div",{style:{flex:1,display:"flex",gap:"2vh",height:"calc(82vh - 4vh)"},children:[e.jsx("div",{style:{flex:1,position:"relative",overflow:"hidden",height:"100%"},children:e.jsx(z,{media:(t==null?void 0:t.media)||[],debug:!0})}),e.jsxs("div",{style:{width:"25vw",background:"white",borderRadius:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",padding:"2vh",display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(C,{birthdays:(t==null?void 0:t.birthdays)||[]}),e.jsxs("div",{style:{position:"fixed",bottom:0,right:0,fontSize:"14px",color:"rgba(0, 0, 0, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",padding:"6px 10px",borderRadius:"4px 0 0 0",backdropFilter:"blur(5px)",fontFamily:"monospace",letterSpacing:"0.5px",boxShadow:"-2px -2px 4px rgba(0, 0, 0, 0.1)"},children:["v",(t==null?void 0:t.version)||"unknown"]})]})]}),e.jsx(v,{})]})},ie=()=>{const{data:t,isLoading:n,error:i}=w(),{isOnline:o}=S();if(n)return e.jsx(D,{});if(i||!(t!=null&&t.configured)){if(!o&&!t)return e.jsxs("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"#000",color:"#fff",fontFamily:"system-ui",flexDirection:"column",gap:"20px"},children:[e.jsx("div",{style:{fontSize:"3rem"},children:"📡"}),e.jsx("div",{style:{fontSize:"1.5rem",textAlign:"center"},children:"Sem conexão com internet"}),e.jsx("div",{style:{fontSize:"1rem",opacity:.7,textAlign:"center"},children:"Aguardando reconexão para carregar o conteúdo..."}),e.jsx(v,{})]});if(o&&(i||!(t!=null&&t.configured))){const r=(t==null?void 0:t.error)||(i==null?void 0:i.message)||"Device not configured",s=i?`API Error: ${i==null?void 0:i.message}`:t==null?void 0:t.error;return e.jsx(R,{message:r,details:s})}}return e.jsxs("div",{style:{height:"100vh",background:"#f8f9fa",padding:"2vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{height:"14vh",display:"flex",flexDirection:"column",background:"white",borderRadius:"16px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",marginBottom:"2vh",padding:"1vh 2vh",gap:"1vh"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"6vh"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx("img",{src:"/static/display/logo.png",alt:"Company Logo",style:{height:"5vh",objectFit:"contain"}})}),e.jsx("div",{style:{flex:"1",display:"flex",justifyContent:"center"},children:e.jsx(_,{})})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"6vh"},children:(t==null?void 0:t.weather)&&e.jsx(I,{weather:t.weather})})]}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"2vh",height:"calc(84vh - 4vh)"},children:[e.jsx("div",{style:{flex:"0 0 60%",position:"relative",overflow:"hidden",minHeight:"40vh"},children:e.jsx(z,{media:(t==null?void 0:t.media)||[],debug:!0})}),e.jsxs("div",{style:{flex:"0 0 40%",background:"white",borderRadius:"16px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",padding:"2vh",display:"flex",flexDirection:"column",minHeight:"25vh",position:"relative"},children:[e.jsx(C,{birthdays:(t==null?void 0:t.birthdays)||[]}),e.jsxs("div",{style:{position:"absolute",bottom:"1vh",right:"2vh",fontSize:"12px",color:"rgba(0, 0, 0, 0.3)",fontFamily:"monospace",letterSpacing:"0.5px"},children:["v",(t==null?void 0:t.version)||"unknown"]})]})]}),e.jsx(v,{})]})},ne=()=>{var r;const{data:t,isLoading:n,error:i}=w();if(n)return e.jsx(D,{});if(i&&!t)return e.jsx(R,{message:"Failed to load device configuration",details:(i==null?void 0:i.message)||"Unknown error"});const o=((r=t==null?void 0:t.device)==null?void 0:r.type)||"display_tv";switch(console.log(`[LayoutRouter] Rendering layout for device type: ${o}`),t!=null&&t.device&&console.log("[LayoutRouter] Device info:",t.device),o){case"vertical_tv":return e.jsx(ie,{});case"display_tv":default:return e.jsx(te,{})}},L=()=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f8f9fa"},children:e.jsxs("div",{style:{textAlign:"center",padding:"2rem",background:"white",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[e.jsx("h1",{style:{color:"#0B5895",marginBottom:"1rem"},children:"Admin Dashboard"}),e.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"Admin interface coming soon..."}),e.jsx("a",{href:"/admin",style:{color:"#009FFF",textDecoration:"none",fontSize:"1.1rem"},children:"Use Legacy Admin Interface"})]})}),re=()=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f8f9fa"},children:e.jsxs("div",{style:{textAlign:"center",padding:"2rem",background:"white",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[e.jsx("h1",{style:{color:"#0B5895",marginBottom:"1rem"},children:"Login"}),e.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"React login interface coming soon..."}),e.jsx("a",{href:"/login",style:{color:"#009FFF",textDecoration:"none",fontSize:"1.1rem"},children:"Use Legacy Login"})]})}),oe=()=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f8f9fa"},children:e.jsxs("div",{style:{textAlign:"center",padding:"2rem",background:"white",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[e.jsx("h1",{style:{color:"#dc3545",marginBottom:"1rem"},children:"404 - Page Not Found"}),e.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"The page you're looking for doesn't exist."}),e.jsx("a",{href:"/",style:{color:"#009FFF",textDecoration:"none",fontSize:"1.1rem"},children:"Return to Display"})]})});function se(){return e.jsx("div",{className:"App",children:e.jsxs(M,{children:[e.jsx(u,{path:"/",element:e.jsx(ne,{})}),e.jsx(u,{path:"/admin",element:e.jsx(L,{})}),e.jsx(u,{path:"/admin/*",element:e.jsx(L,{})}),e.jsx(u,{path:"/login",element:e.jsx(re,{})}),e.jsx(u,{path:"*",element:e.jsx(oe,{})})]})})}const le=new V({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:(t,n)=>{var i,o,r,s;return(o=(i=n==null?void 0:n.message)==null?void 0:i.includes)!=null&&o.call(i,"NetworkError")||(s=(r=n==null?void 0:n.message)==null?void 0:r.includes)!=null&&s.call(r,"Failed to fetch")?!1:t<2},staleTime:5*60*1e3,cacheTime:30*60*1e3,refetchOnReconnect:!0,retryOnMount:!1}}}),ae=b.createRoot(document.getElementById("root"));ae.render(e.jsx(P.StrictMode,{children:e.jsx(U,{client:le,children:e.jsx(N,{children:e.jsx(se,{})})})}));
